// SPDX-License-Identifier: MIT LICENSE

pragma solidity 0.8.4;

import "@openzeppelin/contracts/utils/math/Math.sol";


contract MetroBlockScores {

    uint256 constant MAX_HOOD_SIZE = 10;

    address immutable boosts1Address;
    address immutable boosts2Address;

    constructor(address _boosts1Address, address _boosts2Address) {
       /*
        * Addresses of the contracts that contains list of special entities for each block.
        * They are split into two parts because they don't fit into 16kb limit
        * for a max contract size.
        */
       boosts1Address = _boosts1Address;
       boosts2Address = _boosts2Address;
    }

    /**
     * NB: tokenIds are required to be pre-sorted. No duplicates allowed.
     */
    function getHoodBoost(uint256[] calldata tokenIds) external view returns (uint256) {
      /*
       * Collection of User's nft tokens staked into the Metroverse Vault defines Hood.
       * Each Block could contain Special Entities. Certain combinations of
       * Special Entities incrases rate of MET generation.
       * For example, if Hospital, Police Station and Fire Station are seen
       * all together in User's blocks then whole collection will give 5% more
       * MET.
       */
      uint256 hoodSize = tokenIds.length;

      if(hoodSize == 0) {
        return 0;
      }

      // count the special bits of the tokens
      uint256 counterHi;
      uint256 counterLo;
      uint256 prevTokenId;
      for (uint256 i; i < tokenIds.length; i++) {
        uint256 tokenId = tokenIds[i];
        require(prevTokenId < tokenId, 'no duplicates allowed');
        prevTokenId = tokenId;

        uint256 boost = getTokenBoosts256(tokenId);
        unchecked {
          counterLo +=  boost       & 0x0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001;
          counterHi += (boost >> 8) & 0x0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001;
        }
      }

      // There are 10 boost categories. Each category gives specific increase in MET production.
      // To get category boost blocks should have 3 special buildings related to the category
      // Safety, Education, Entertainment, Transport, Sports, Energy, Cultural, Mansion, Tech, Odds
      uint256 totalBoost = 0;
      uint256 hoodSizeCorrection = 1000 * MAX_HOOD_SIZE / Math.max(hoodSize, MAX_HOOD_SIZE);

      unchecked { // River & River
        uint256 min = ((counterHi >> 240) & 0xffff) / 3;
        if (min > 0) {totalBoost += 800 * _getSpreadedBoost(hoodSizeCorrection, min);}
      }

      unchecked { // Rail & Rail
        uint256 min = ((counterLo >> 240) & 0xffff) / 3;
        if (min > 0) {totalBoost += 400 * _getSpreadedBoost(hoodSizeCorrection, min);}
      }

      // for each category get the minimum of the 3 counts and add the stacked boost for that category
      unchecked { // Safety
        uint256 min = (counterHi >> 224) & 0xffff;
        uint256 v   = (counterLo >> 224) & 0xffff; if (v < min) {min = v;}
        v           = (counterHi >> 208) & 0xffff; if (v < min) {min = v;}
        if (min > 0) {totalBoost += 500 * _getSpreadedBoost(hoodSizeCorrection, min);}
      }
      unchecked { // Education
        uint256 min = (counterLo >> 208) & 0xffff;
        uint256 v   = (counterHi >> 192) & 0xffff; if (v < min) {min = v;}
        v           = (counterLo >> 192) & 0xffff; if (v < min) {min = v;}
        if (min > 0) {totalBoost += 600 * _getSpreadedBoost(hoodSizeCorrection, min);}
      }
      unchecked { // Entertainment
        uint256 min = (counterHi >> 176) & 0xffff;
        uint256 v   = (counterLo >> 176) & 0xffff; if (v < min) {min = v;}
        v           = (counterHi >> 160) & 0xffff; if (v < min) {min = v;}
        if (min > 0) {totalBoost += 600 * _getSpreadedBoost(hoodSizeCorrection, min);}
      }
      unchecked { // Transport
        uint256 min = (counterLo >> 160) & 0xffff;
        uint256 v   = (counterHi >> 144) & 0xffff; if (v < min) {min = v;}
        v           = (counterLo >> 144) & 0xffff; if (v < min) {min = v;}
        if (min > 0) {totalBoost += 500 * _getSpreadedBoost(hoodSizeCorrection, min);}
      }
      unchecked { // Sports
        uint256 min = (counterHi >> 128) & 0xffff;
        uint256 v   = (counterLo >> 128) & 0xffff; if (v < min) {min = v;}
        v           = (counterHi >> 112) & 0xffff; if (v < min) {min = v;}
        if (min > 0) {totalBoost += 1000 * _getSpreadedBoost(hoodSizeCorrection, min);}
      }
      unchecked { // Energy
        uint256 min = (counterLo >> 112) & 0xffff;
        uint256 v   = (counterHi >> 96) & 0xffff; if (v < min) {min = v;}
        v           = (counterLo >> 96) & 0xffff; if (v < min) {min = v;}
        if (min > 0) {totalBoost += 800 * _getSpreadedBoost(hoodSizeCorrection, min);}
      }
      unchecked { // Cultural
        uint256 min = (counterHi >> 80) & 0xffff;
        uint256 v   = (counterLo >> 80) & 0xffff; if (v < min) {min = v;}
        v           = (counterHi >> 64) & 0xffff; if (v < min) {min = v;}
        if (min > 0) {totalBoost += 500 * _getSpreadedBoost(hoodSizeCorrection, min);}
      }
      unchecked { // Mansion
        uint256 min = (counterLo >> 64) & 0xffff;
        uint256 v   = (counterHi >> 48) & 0xffff; if (v < min) {min = v;}
        v           = (counterLo >> 48) & 0xffff; if (v < min) {min = v;}
        if (min > 0) {totalBoost += 600 * _getSpreadedBoost(hoodSizeCorrection, min);}
      }
      unchecked { // Tech
        uint256 min = (counterHi >> 32) & 0xffff;
        uint256 v   = (counterLo >> 32) & 0xffff; if (v < min) {min = v;}
        v           = (counterHi >> 16) & 0xffff; if (v < min) {min = v;}
        if (min > 0) {totalBoost += 800 * _getSpreadedBoost(hoodSizeCorrection, min);}
      }
      unchecked { // Odds
        uint256 min = (counterLo >> 16) & 0xffff;
        uint256 v   = (counterHi) & 0xffff; if (v < min) {min = v;}
        v           = (counterLo) & 0xffff; if (v < min) {min = v;}
        if (min > 0) {totalBoost += 600 * _getSpreadedBoost(hoodSizeCorrection, min);}
      }


      // 10000 equals to 1, to be divided by 10000 in vault contract
      // return 10100 to give boost of 1%
      unchecked {
        return 10000 + totalBoost / 1000 ;
      }
    }

    function _getSpreadedBoost(uint256 hoodSizeCorrection, uint256 stackedBoost) internal pure returns (uint256) {
      // One boost has a limited scope, it works onlt for MAX_HOOD_SIZE items.
      // If hood is bigger there should be proportionally more boosts.
      // Add 1000 to keep precision.
      uint256 spreadedBoost = stackedBoost * hoodSizeCorrection;

      // If there are too many boosts of one category we don't multiply them uncontrollably, 
      // Instead, we implement diminishing returns
      if (spreadedBoost >= 3000) {
        spreadedBoost = 1750;
      } else if (spreadedBoost >= 2000) {
        spreadedBoost = 1500 + (spreadedBoost - 2000) / 4;
      } else if (spreadedBoost > 1000) {
        spreadedBoost = 1000 + (spreadedBoost - 1000) / 2;
      }

      return spreadedBoost;
    }

    function getTokenBoosts256(uint256 tokenId) private view returns (uint256) {
      unchecked {
        (address contractAddress, uint index) = tokenId <= 5000 ? (boosts1Address, tokenId-1) : (boosts2Address, tokenId-5001);
        uint256 mem;
        assembly {
          let data := mload(0x40) // load the free memory pointer for temporarily storing the data
          // read a 32 byte word at offset from the runtime code at contractAddress  and put it into the memory location at data, 
          // 32 bytes are added to the offset because that is to skip the 32 STOP opcodes at the start of the runtime code
          extcodecopy(contractAddress, data, add(shl(2, and(index, not(7))), 32), 32)
          mem := mload(data) // load the memory into the solidity variable
        }
        return (mem >> (index & 7)) & 0x01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01;
      }
    }

    function getBlockScore(uint256 tokenId) external pure returns (uint256 score) {
        require(tokenId <= 10000 && tokenId > 0, "Invalid tokenId");
        bytes1 chunk = scoresData[tokenId-1];
        uint8 chunkUint8 = uint8(chunk);
        return 200 + uint256(chunkUint8);
    }

    // in python: "".join([hex(x-200)[2:].zfill(2) for x in scores])
    // each encoded score has to be within 0-256
    bytes constant scoresData = hex"575c7e778e67825c769f5b9b53871f647d6074754b846428805468563c8362886275345c436e5d44417f704f4886448a5f6e5e6ba6507c61866a606d974b7259626946446d5a8f9e405ea6596173919f7e997b666d5748704384574a633b5845188077795f76596c4a687dac2e633c70376b6f507daf5340589459481878902d7d5975aa618e377268a38d67614b64717c795a446f49767a438a724f504b776f6459676b80626f7a655e82554a59797645728083555a53716f9c87378b458aa16b6d6bab6a5c5b696d4a878969518b4d843667556c507a7b8a50615a48705a73323f6e9a83947863498c4c566f76416f395d5d6f987343a471765845763d6d866f4e698a347b7e814d6faf4e4b4f91427e73828767436a656d626238816331415a8a4f2da4604b3952624f828e8a4d755f8284886b7d746e76ad8e9f4a5b6c3b5d81526e8c3f736d5ca15e8b64746d5e605b8f7c5d73686b8739567d72586d4b5e7a74896b867e4c627a644d65827457605565768c8a91834b5c49b15e67536b4a555740444a9456945b797486427b5170715a7d73807f5e618c534b61526d596a630d75835f9088395b4a685a5e417371998f6d6f4d568d9a707e817e336274674a544b5992544f796593766a4c86403b8f815f793a716b6e5b657d83637f52877e78844877595c6a69638a487a975b37834f83686a888d7b4b563d564e485c6f9a4c7e815d8848727a5f447a9d445c6a46756d415763b4866684451e782667784a65587d628b81598b54666d5d5c2e77786962686c7d895961508f41793ca66c577d5b683d3b5557c34d776f937d405a665a7f7b5a4f7973794a6c765976a25339735e5c4f7a525f584e6473524e53644f845699504e6e424b526665702c59925445677b6957536a9485855252495f463b9f74836e5574ad5b776b386a77568c3f9e82746251455e9e9e65706c72573b4192767854697f7197996f8784255f694b42733871406e898c5563795440797e585c3354265c7085557d25574e45834e375a685e2c6e725c62715b7357657372607d9b4b6d65753d8e758a8c7c81576d7e475e70516c6d9e7469547c64544e7a60865861475577529b4e3d593d316f90894b5b4c6c50726a726870706d434e346e4d6a703f6640526f44b8643a7a5b697b71916479704c7c7147796d349f576b7d4f62665f6d775d826669596e458a524c7e6f64785d66838e678272969f91535a7480776329493696655b7f5b6a632b698c676f4c6b5e695b46795726705171844b335f7b59845c70935456667859626998855e778c789d6157667e595c68665242698e924b48775365516017ad607b5a567a7c3ea3825164616f5f65838e5f8f776b7d754f46575833687f694158677bb97285883b70663683614f6f787066882e585d60778a5fae5c38777c43828e4738884742545d278a2350664d89426f6c5c7049684a6f6db35e52934d5b525e564a874a59a4656b5f906b5d7459919b716c767d765d546a34885d488c426382665e694d4d3c536e93917f9176755c80646380766e2f934b69775a9055655d523d6b787f66338284456c516e667265866244614a36666263935f714c957057367d7697766599619e8c4163714c5a8594146b5b746a6e3c477a755e670f7963505e4f524f5d7c775364465f7b62a88e5c48666c5e6082794338606c7559739f794d4180505d23516b6a67327168718775434f732d597a8f4d626d5842918e5996936c6d8584465549534b7a8e3d596b6f5d4e45995f46504d77244969626d6d41576d90a296836f5e45648e595b63596e647863486b74a56e5f776d50794b6e65873f764f5b8f5c6557357866432b7a5e6e5d988a726b7d2f4972497a475e6e657472474f82767d6c6d59096a7c867169725688619d46335369608470695846548f7872524f408779474d6461745a816e69903151898e7a644f596e6540884a7572604184707f334d893d4c3b7d727e5c3d8652964745494f747e778860b16180795a685d6e6da8414d7479827b3e677d4181738a93986c5534566da174536b54725b76705f5b65586561917b3677886342985c244f7371628e495d66406786624d5161497f5c2f4f798523769d7f7b86ab47577d4b7c8d644c6d906c5340775e58345c5f6d404a4b8d5c494e553d85896c899a469b913f225e90707728795b6f5a92559869764b6a88a5546c61677b52639688598c413f5e917c68436574536f8a56734d3e666834826b45a842675c625049868a446c5e448a3c7c87704e7f7f3e7f7d8876697c6a968d695d646e7c493b6a80af6b666e8f5e797c7b7451677c555d65a17e34615f4e4ebf81717177747f6c7e69747330805f585d8a576b589d8c578b67414a75698d786e8257455d77654559b683755a7f5c9c5f765467656d4e625c688062739b5d5a5a4d9175a35f6e5b4e5747498a6d933b70674c65515850536c5ea65872568b5563408b82767a626b3e2047677e53736a48734b3d705b92644e6a7858635c858b658c9672506a78486f5d817775807a6e753a6493821c80a45c6f4d5064485a762971713586766f987b6c6c5599736649815ec47b81312757c8707e77897f5b6f7b7e76634d867572485942646b6c336b9e7d7b58848d92688c5646600e527e6a996449478e59616a75848b65918c8975349a78535f745b9a82708e70784074917d5547695a6a754c837250874159836543539749536b836d9582666b60527252685b58757d578091583449854973407b5d5f4e6077358b739275916c8b8c3a672a3b5178666c64794072735b7b445852809e816d4184709964423d5064533f85697b4b7476545d8b92525d584a4e48684a54566871366d44557a52505b68648886593d567b6e3f698c47969067394a885858815c734470419a7d8d7975676f8371798a427bb771693969a269546f746e79715a9f5f282e307d8f795c4c5062284c727a967e5c544f823d71677851645f5291677d6c617c9a6c5f9241508e877857832d4d8a565a717559535d4e2b545981814083589d947161577ca76560347e547a59825f6a9a86737f7f647654576859433751885b746f61a66a6a57754f51748e6276594d65964f816c624b675d825f774c5666607743508a2d7a4e9750816b555e593d695940973b3d79736261775b886a70a2286643ae999477618f577aa53e5e737071535c736d6b838c556472711e377e204d718684674f7f8d7b4a5f90658f6d6b514b6f59916b7c7895576c54436664a1587b4c6c53647b52518c4c5150683d646a83b75f8b76615158975a42564d62896268775e6875826c89767e84516f248852726272746b80316f507c6f74684d8b4c5e628d593e605f506a6d8162479b4d72995c653c324e84436881a551725e6f638f86765a875d88586b765b77676a1aa1556e826268725ca1526f6f6f4489629c6c3e8f32858b47445069693c547166558c4e755e697d7e45627760646a5f645b784049593ca4657a6f699268591a4c4451425574716e566a5780697e577b944f5a5f746949856f593c8e204747568472677c0b3d6f99568f816d73595049227a8d6b7d7e408e8650686c6346576567494e597c633b5d586c5c6268526c81797044485c5660836d5f666d4f44897546884781436f5477989f337355616e5e6766956c365c885b6f5e6572709b395e754e4c7659596f764d83707f8a6a3e2b7e5aa155527977507e4d565508515c76681d8e5390615566578257736176817d8f5783756a91895b2e7d84376c7e5b627d6d414d7931514c406e3e5f3d519175542e5e4d515d34835e6e70818542877a50794a5d856c6f6b7d4674633e5958754680825156674962628a74a2639269722a456d386c6975646a9985737468622c6e57725a4577788374724476679775683a4a80706a64378a754a5f6e52303c627d35744a5a6d7676ad8682966c884c90185b756b4f4aa27c6079758a6b7b70755e585335596d6dab084239a0735ea164665e78746e40695b436d595a4489726354698c5e2a4994aa70648958883e30668b595d8b7a4c6296795a4e42418c6a797d51656c7b60555b78524e727b6a6357765368537f51516a3e8f81847a685d7e4a6371a2664d724d6a26763b579b4177396d617e7d7849628740704f6d64a0615c506b7956625c76a07c85805d6d527170795a4f6f666f606970618168878e80657d7dad30563f3b6a52713d589d4ca27863663e5f7789736a7f515aa66c883988579b7d8d5a57815b9d874a77754894913a4a687f514861a579545c68a26a684e4a604a74a08f746056776b68657b8e648c798f8e6f7e778f7344706d504c5d6caf885d429257587b845b5c62938a52777a6b3157573f44923668616e58585c3356583f9055837e9f649375772d9d6b786c896b7652665b70744971546e1c6c8c8272787b6c62684f8363467756884b34386a8c4d6f4e6531667c577b555d7157868b6a374e46566b857487748186823f76525b6e48473118835a785b4e77437b6b5f4e6e3a8766638976765f9c6f24975d60776c9755605c68836b64774d617052668b628aa978705028406448785a7e8a89844973797c618d4f5f4b81754c464d5f9b704a7163608b73393f53633473835b7a85254b1b6e6d4c655e6ba66f4b79434d435a4b3b727b76566c66556a69428f8a6071649a6a609451573b807f777b866b7097917c406e5c6344813083589e6e686a5f666c5a6f40774c55856e415a6385675076345c4957a485828b5056415d3854609d83706c634e96875e474a72609e85555f6a538853676f85764466966c883c63676a5437695559766a61839b706d8f7169178371398ca36b5c587749405477462b6a498e5a794c48a0667c59477472525578575c50385a6389693b588f717c86797e4a5662495b3b5e18667372a181667f965b605f90637e6d9140816a586a76484d5a695a52498d8e3f475483877886628e3b32636b5459764c47862d5e5568515c885358425652656e3b2d9b5b29754b6557774674365b53504d7a908a5276885f33444f6b95555f615b756174695561a6626f777c6f68a85b9c827a5f7e57694a734f5b616b435d836d8da64a5454606ca38259197a4d6a9460647e5f4f6d503b493c5a845ba7916376645d644c8165765f4687845f4d68767a645e7092735e812d874e804f96876078564b69826b816670574869488988695d4e4495565072776c718d485f3843606970903f6135597800877f6d7b6c488749725c7b82557a7f804269788074947292654a607466957b6279497fa28734583d8c6f738270886a706065698148b34f897b6d554f46537b6f815464754b78553e5459527f5a8562607d954f68917d53317642629f547b8753437a273b63a8627e737f7c9e527474754e7d868b53647a723c93634f679d6d757e6052615c675d9c658176431c4b1a6c77659e425591556c7557407959716c565a768b5c6a6d6d5f927b67595a5f6b6757807b312e754582627c92b35289474a9972658367594f62708e76a54790595c887b6c6274b17a6d6363aa624767799270956a834f8081a8925c604e658b7d525e1c485367755b655b6044764d3b7b473f286450664b7a65495e6766418875ac69617f544c6b425670716d8b797b6d468d706b51676e3f5eaf523e64706962687941577f6e49747e643d5d553b3a9b5348356d6a58438c319d68376975799e6b5a45725f8f5d654f74376a7d9d5a2f578a4a78679a5e67674d60536e5d187c8077876e7c6877b53a3f554280286d887c6a597389377c567d38665f814e6f848951935c5f675741806643866b76825b827294408b8c59445b5767714e93338584404c64665887788957706c6e628d8b51415a815c9565306e52465f6f784142437f714c6252424f7841898249a48c6465648a777b926d51467582a077973d5e52594f3a8466644755636f3c4b5e5167989965684458a4629235668a6d34785b86715c59614d6d46995d50638841557d2c186c71707f4b56728d7b51705b547e6e5d7863858d506d677f544b77636868784a7378ac676b39926f5b62726f725473497ec360907e3f653c4b5882535c745c6e48833b44745c61669658428c6b3f426a0b6b237865816f5250798c874a885d7f7f2732963e6594813672543b745d5b903f3449576866577ca3718c778b9c39336779785a54335b424966866566507a2fa057715d65746c5d66504a5faca3918c724f626b60595d877f646d89703775348e5a7e6e926930515f476d4e397236898983695a7d506967327e8f5f5c7f56677d5274695c7b6a4c7f506757756c56944a4e617a82425e68bd67885083684277795a94586c857566406d648355765e33a77175555a7f754e46596a554e33a84f9e404b71796e8a3a915a944f7c7256598a50745e998085577f60606d625d7b436a6a61547273688d5f33612158771d7f8c5733583845759d634f64694f7025874d754f55816a7c7d6d69744f7c56596d95514c828e5a6a6d5d5b883b556692887967676166528364746b95526f887e517672544534837a516a24694f4869876d65675a7e736f833a62619f5a84796f703e5d6ba551498e749353483e68304a6482866c8a64238c854172558c668347617a4a836c7d7b5f4e596860814a6e714d7d675a529c346b7753486e4b8b6682305365507a524e9858726d686d4568722d5556658b23495d705f5c5b57626b45554219656b9a506991285d836c7a37693d51276436775a674a658a505775734f3f5f6674838b786d606e59757b745d32435478483478324d705e97575b5756675c384852666a565f575172496e2e6741706e57686c5f4e257056543e845d3a698a89657a50908a5f785d506b69766295675c6967649b4a477b5b715d74a54d584b8d85736f756932537077523e55679b69a8669f58638c41756e5d4e67486719883f5b8c6c815a776e6c8146806454697f627e618e58444451847440995363825d685c8c7365828f7b55887f79494769913a718a47637042696b7f73517a6c58584c5b837038957155753a6d38372e645c6e3d6376778b7c56a34d8b96545f788d515b7f639c3765464370634e4b784f4153784e7845ab8c6466677359623785506163774a887561799072365c61354d408373478f953696956e617464613a6d5d6e6f6576654369635e4b94238095887a71825f686a848d8c50584750684f857b6f57527873796ca85d6b4d737a7352495f5c8e7b726d757b851a543b717930906e756e5d8eaa88667e54624d93534d92449a8f3f5182827c5e5b7972656a57637c685e56726c71635c7a62687b57498d927d456c5a7b9d77547a4874a046707e5286624b608f945b746b82815d73512b5e874d89516955695483817e76b12984c6577060556e6896586e7b6a7a645772693c757460858f2d606c576e4a6689876267a697885f52845873864f664460583b4994925961679e57655b5183673e6673504f63746673476b85626636b5639b6b914a987e75345f586869817c952aaa43557a3b7e78626d785c8f81728983665482507b3999808d666a3c806073708a817c855479926b7e407c4b6d72932b67445b6a6466687c695c6a7b2982409f903e4d5a717a7064404c3f599b55725f5f5d918156698e8887615a893b3541493c244c3f5c5a5c4d4d996735585c5f895d70b89188556f806748614e3b5b545b78b9657264824169749d587d4634457444857663676967865e415162763d466e6d4d6e5444705b9257687d684b7aba7160565d4b3d5673755d538678915f455d7d6b7e4a54536a606b616180b0528967743867694a804e6352627245c0655b91725e7d616e72735952ba735666704f5e82658e6c47897758466c8d8f654f2d855e5264669740706b71686d97588456513c863b77807b395d5f606d68324e51798d534f745f0a5e7d765a6b716874774e407d5d4a7e385052662958696683548c6e647547426a394f794f545070745b7e796e6f5d856445593e1f4b65567c774a5d773b6345716d709f6c5d4a6c7e69655c6e9a4e559e7eaa686474aa5f606d4d5a8a4b79616755653b45335553837a6f6c9071296e486d52693074827d9d4b7b4f6c754d8248686d6e4e767e3f6063804d5b6f737a6361514f734f5c6f3d8a634d6e886c688532606b1a315a886d996c7f466c72907657654c853b98363f4d966e2b57857b516776757d4e435b567e6e495e445c573955547b3b79696e76595b6e3b61824b737d8b7e7c82475d81492e7a7b5f5a667778845ea55a673e527c3f4d553c708e887a60766a4e5d5e497a42715b68427e7b4545a4646c69565a559451558568696251907c7265648262446946af4e864d7c62816c6b96894884558748845c50876361686a82a14b4e6b6e64746f61767749739d5d9e4b6a5293956f8e509643837c455367507019547d56617f1f927f8a6c4d575a69446e6a686d9a1fb270a36a8137717fba776281583d58424f5c666b705f4248518e4040b46d4c5c8b70665796984361206a867c6082805854995b384a51865452675f37659c4087886a9563425b598a53726f818073618b4e5d34a55b714f767d6f798c69746e445585684a72774c36616c6e465e6b405e6a4e634a6b5d7d625b566da487665b858a6f95775049709a634b655f4e5f555c726f4d4597577f6c735d6656af89717c3b7c5e685a765758583f91517074604661418d37814860896543897e598e615a4b788a4b435a9259956f4a3a63566940406e98827e653f718958355c854e65745f726c3968695f6b627b466c417078997b7480636d77695a2d58848074ae816a6a57684d735e6c5c866e7b8a704761857d3f6f565e68676d6555476e71534b3f5451808e727f80938a61844a7e4c7c5b82527b1c53806b68644e6a575164518e4e504f4e7f398d4f47727385825a4c854a2c4540703e747f5489675811528b866b30746eab4d6974774e6a6b6c6c375974805c65779c89656d998f5c5e4f7a4a39755535797041847d694e4a636d40905d6f453545537787483473624ca8bb71aa5b4a446e5c523dab7267665c66935e5d747476507c596c6d6282975e4e60b1855861536e506d44527a4b6b3d47657164418cac577a50988f6630656a739d90387867484d2662769b836280699b676999897c896f625e75536f586372753966567787696e7249704e847a615aad6c786b465c7c628a6e5d6a8143547e9f72ab7735806383417e2f7684435982917e684e5f96976b486da1769b776b55767d7b5c71573e8546347c675e5d8f4e746768978392836b318a7b6b4b865485682c5f5c8d52a761796256743e704c498c3f48646fa1687f65626c648a954d646d626e658e697c836c9d7397b2716d5463845c206a4449814c7e846e7182796b7c887232ab4d6c8757555e5c646056568758af4f8166715699828e5161ac654e7d673f397f7b5a5368ab8f6d701d8c84557c745f7b4f536a3c6b764074784f5d646d5e795c72483d8f9357738b7f8c74824b704e4e77538d58616283984a7b63325791717764976a6e5f7a824d6b529865547497855e546c3d6382736b7c5062ac50706a4b608770688d7d765f906d62476b5a676f896b5e683b4d79775f1589696a523f56765e71655a636f72a177625830835b5b558766607eaf438d7a457d517d6e557647603868948d728377615255845a7145787a284e6c4c694178589560896e744ca13e40706673637c5981625e537f468764533f7f674f9c55666e7587735e778c6b4c28a259855e5fa0596658746b4c5484645190595a3a7472575290715aa1445a6365386159678e5891556e368567a05453384071385b0f41a96a7a58584a546e5c766d817a61758d787762918b6e6588465d8a691d8e538b84435248a467657f626daa8373937660a992a4599c73435470802f5634567a35667a835c744e5e8d814468694c4a4a5461918a5e59565155778d4c396231867d567960745b50874f51978e565d4a82485a636f99677352676b33774b2e93559b48537e30917878706e446f6966309156623d2e3d3c625c2b77324a5e4c52837e679058667d4a89950c5c695c877a47a583453f64587f776a866b6c46576290546e655d704a2f434d6f234656424e555c6f8953905e1b687a6967825d997386614e657366985b7050375f535f4c6d858d6156674474759b82644e635b604a5b53639439704f6f736e5c3c8367524c70606e859152ad716172906e655a76718a9b8e88865e8b536c636b9a56836084752095675183636c5970538c647e47627d79666a5d726d5950744d5753728669656e718b663b67c3757e546f634a5f596b99577f70766d78544b91857a4e5767757876386e363e6f664d927558466961719b4b57563e4b5e4e4c7d4979812b889287a06f588d8b9c633d43459f83724f6e582a5490459066979467476e36777b547c8d3a766e647b66895f8c5f6d5566a872388058245d62447359926c3c65a65c53806eb9737a7c577b6e704a7b7a606e7951598759624b793f7d605a664f9c825f606d4d564d7a777876944c6c6f7c7f938ea37a3f6986637c7072575e77912844998b4e858b436d68595961648f6c406d663924526464907a585c574b717252a74463553b646f674e6765578187516161584e746d7c556d47654697a4885885566656714d7f95ab447a497a4b37885d7f71598268746f8c5e704871739167ac6f6d78667987421a5c6c79794a759d706bab4c4c59757c51666f9190526fa46b656654536f6a6e9779795f6b6b6d996f4f648e6084736f4d62af776b8e55647276405e609862907a61696e6550533e488d4e5375616a8a575f634b354f556e7373719e914d957e6d6462345e1a4470603a455d5f64bf6a2d5d4095478d2f7d704c7c995b66656480607147947e8c7c444a707d4b556d465f567a606b69238b568867607255537b7e4a3e74125e59505b9b4d5c78865a6e77765f9f874f7148806c56786e9b5f845c3cb167628e5d686d64688c85659d3262693f9b4862365e495c69ad65635a7316537f7756887358897c4d694c736e72586f38765a8f345e74555f4d7d75ac37427163a67b75a24b5541764b45794779775d52678471675e7e5b5a5d795b63727e85596286805f797a52565d466d77777b4d59132e6061595f647160a5575f8168847b4e557d9f64649477576b762868448e758b707c735e4c865cae62897171312c7a779a61889a7a581e823787963e79af6b5055486253534b505c5194748b55585f8aa335967e86546544756e88426189815b4e6b6c33426b6451676f5e556c527930487d50846562796a756b83532d3748325b8b4693844c544d71557356775f5b7354625d336b4a6a6c364c47682f50575aa35c4d63602b4b51467b90a25c7c5c8e7a771b5b9c73927f69856c7f3b916278607751776281555d5e67605f786951536c4994614192766155bf545a5ea86b7642a55e72544e43494c747f6d705b513f45766a4d404e69717e78793937856b566479677177697538668b7546444866505c5974717d487a6251599e4b636280697c6d8c5976507f4b78af6d6066966d2b3008689372877d4e813973495a4d6348616288594f675a505d4c558a82716885205966766d4a73806879446c7e708b5153378e8563547d668741465750605f677e85c3668671707273624f7c5aa179907f7d7d51597030518e75716a67507b5c4e583c707b8353707b7b5a5a6a306a76687f9b8f737c45ab4689718d3e4c469d626b616b6254a64f905978766a7b6c777f68632a726c759d3e657d386947684c7e1f627d8b7c6576604d59466a844a7b96593654646faa644eb55f82514d5e1f375079945d3a517e9651714c437a7b413881767262545f7c546e5e54627a618451606f58494530796155984c208d73477caa78a2927b639590917c7563506f72717265733289935756787b70504b607f99547070645493913f55607e8375797890754c6b627f5b544d534e89817a4e626c5f576d695b23725c99846638665e86712e9662835a50a2574d7f3753125b574552636f91665833765d67857e5c6c595443636697355298854150534f5f7e7f59ad30b34e4879516a444c8d4749ab655077506d4c819b633669589f45925273697676477171366d69526584725f6b906a755c8f7256695c34955e73696273a880687379496e3b68b56e6462569e3f764f6ba85585665838986e7c535b527e623176436f56724d7c5a4f8e897b4f787d4e976a234c545b8c34594f4f5280474b9b66644f8b947782aa8154b16880446c9f4245526399366c386b5958786467747e84ae44745c70678b7b5a3a5d546a743b707c5b656457378a6c5b4880726a65795c463b5d4d794333ac55666d61623a8ea057317e99646b73774e8d867276666172974d5d6d537e6a931a8b8984685d643069573f5f633772587761846f4b5f8a7e8242585ea4606b83903b8228923e6590556d4c7334634b645d783d725b638b48637abd4a44a775735b584e8871a9435b756d52435a5e6e454d79794d846f9160696959501e7d6d618075935e6b5b7c9e4cae87955ab2536a7f965755643f75655c8044505a5a5179873f256b7867699a6b8a9094476f5e6b4846595770495a4c69498a9e5391466496462d4a6f446c8047418566653c2388688c7d5620707d6c564853598451828c3e396b6e8a797a8644777c646c6884567030659b714d6f76036e4c5f9fa0758d7c537f8a5474753f8891c3925e4d286a74684647535e6067648d6d60505f59444e6aa16d80547b1b766a57617c5a53325f449d63687795784345857a694daa916e664b3ca23d597452845a873d883c305b916f835d6d88499c668a95705a934d48525578ad3d5954726579604e705e6c7a4694909d47713646316f3a6a6f72885f45615969834e78597655416d686d645d34b27a724e57674f7f65527476427366665f3366a537545c48701d8f83675b426b64643796783b3c79ac554c685443878a485f956776715d86446d54548e7a8821984f6096678e8444814f3c717f53b65ba1903d7767719d825c6b387a506528a05c9a6d556b5d88616f48577c7b6e416f484f9b3b5b5d735f4c81935a80617d78708b8951ac5a643f519220333e7c60995755825b88544986405f71736284785571717d4c53032f726651684e4e6c507135705d6e5e67256f6767405f4068655e6e5d607c65715353766c342262947739404955779c35865539604d878e5b909b4d5c397077682b437b70796a51b46e71a14a85797e745584685b73677a8e61b8634b3d845f63936c456f6c50905f5d71376b793b62644c735d4376587d55327869938b667079437f877a617d776048af675863848c364b824b5572365968676f7d5f55503e777962614aa26b4d5a9a7e95896f5336734a70596b6a4d5164677e5d87777866671c594f9264606a55746a6e5b4a626c6d493a5a417a513849584979824457646a40664a665064717c47814f9597545b4785634e71342e61923a76908c74736c4b564650516d56c4807a893e537d514e544aad7970b242554d7e744ba573705d8a405e807b5b7a76657d81a86c656e5a547e5f5060868672565b339e6d753d566c785a787d8a8b6972423e578074738868659c44599f6a7b79573d649857946b817e6b67a6451a297054956a4a5c655b6a814369495262854a4f9d617f727e575788426a896c68644f7c99566f125e708232304c6f6e2a78514c3d2b529d787a556d591a496c6f9ca5924e7314418c785677475033304e8d7f7052956f357a3e56557c9b597c56495c88654d5c7f6b50435a65516f3946687d6f69575552545a5b7b65699948977a626f67683ca8855f60616d6a642c5a876d775c6675806e6f8b55522277638586615aa4596c76257130638c647092685e596e90909b9e62643f596b58947274a55e982e4f754f7c515e613d833d755b60285595835f84598678";

}
